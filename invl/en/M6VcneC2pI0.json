{
  "video_id": "M6VcneC2pI0",
  "title": "Selenium, Totally Tooling Tips (S3, E14)",
  "json": [
    {
      "index": 1,
      "start_time": 0.0,
      "end_time": 2916.0,
      "text": "[MUSIC PLAYING]"
    },
    {
      "index": 2,
      "start_time": 12160.0,
      "end_time": 15841.0,
      "text": "MATT GAUNT: So you do testing for all your projects, right?"
    },
    {
      "index": 3,
      "start_time": 15841.0,
      "end_time": 18340.0,
      "text": "ADDY OSMANI: I usually create a new issue, assign it to you."
    },
    {
      "index": 4,
      "start_time": 18340.0,
      "end_time": 20650.0,
      "text": "And then magically, overnight, my tests get written."
    },
    {
      "index": 5,
      "start_time": 20650.0,
      "end_time": 22497.0,
      "text": "It&#39;s the most wonderful thing."
    },
    {
      "index": 6,
      "start_time": 22497.0,
      "end_time": 23247.0,
      "text": "MATT GAUNT: Mm-hm."
    },
    {
      "index": 7,
      "start_time": 23247.0,
      "end_time": 25300.0,
      "text": "Yeah, for you."
    },
    {
      "index": 8,
      "start_time": 25300.0,
      "end_time": 28570.0,
      "text": "So we did a previous episode on unit testing"
    },
    {
      "index": 9,
      "start_time": 28570.0,
      "end_time": 29680.0,
      "text": "with things like Mocha."
    },
    {
      "index": 10,
      "start_time": 29680.0,
      "end_time": 32140.0,
      "text": "And we looked at a whole host of other ones."
    },
    {
      "index": 11,
      "start_time": 32140.0,
      "end_time": 33610.0,
      "text": "What do you think of when someone"
    },
    {
      "index": 12,
      "start_time": 33610.0,
      "end_time": 36120.0,
      "text": "says unit testing to you?"
    },
    {
      "index": 13,
      "start_time": 36120.0,
      "end_time": 39190.0,
      "text": "ADDY OSMANI: Oh, there&#39;s like in-browser testing, CI testing."
    },
    {
      "index": 14,
      "start_time": 39200.0,
      "end_time": 40930.0,
      "text": "There&#39;s usability testing."
    },
    {
      "index": 15,
      "start_time": 40930.0,
      "end_time": 42427.0,
      "text": "There&#39;s an entire minefield."
    },
    {
      "index": 16,
      "start_time": 42427.0,
      "end_time": 45100.0,
      "text": "MATT GAUNT: Yeah, so this is I think, the biggest issue that I"
    },
    {
      "index": 17,
      "start_time": 45100.0,
      "end_time": 46259.0,
      "text": "have with a lot of this stuff."
    },
    {
      "index": 18,
      "start_time": 46259.0,
      "end_time": 48970.0,
      "text": "When I first got into unit testing, it was like Mocha."
    },
    {
      "index": 19,
      "start_time": 48970.0,
      "end_time": 50336.0,
      "text": "And it was in the terminal."
    },
    {
      "index": 20,
      "start_time": 50337.0,
      "end_time": 52920.0,
      "text": "And you get used to this thing of like, this test passed, this"
    },
    {
      "index": 21,
      "start_time": 52920.0,
      "end_time": 53420.0,
      "text": "failed."
    },
    {
      "index": 22,
      "start_time": 53420.0,
      "end_time": 55600.0,
      "text": "And that was all cool, but it&#39;s JavaScript."
    },
    {
      "index": 23,
      "start_time": 55600.0,
      "end_time": 57340.0,
      "text": "It&#39;s not in the browser."
    },
    {
      "index": 24,
      "start_time": 57340.0,
      "end_time": 59720.0,
      "text": "You don&#39;t have the browser API, so it was a bit-- I mean,"
    },
    {
      "index": 25,
      "start_time": 59720.0,
      "end_time": 60410.0,
      "text": "it got confused."
    },
    {
      "index": 26,
      "start_time": 60410.0,
      "end_time": 62879.0,
      "text": "I was like, well, OK, do I have to edit my code"
    },
    {
      "index": 27,
      "start_time": 62879.0,
      "end_time": 65378.0,
      "text": "to be separate so it can run in Node, even though it&#39;s going"
    },
    {
      "index": 28,
      "start_time": 65379.00000000001,
      "end_time": 68500.0,
      "text": "to run in a browser, or what?"
    },
    {
      "index": 29,
      "start_time": 68500.0,
      "end_time": 69900.0,
      "text": "That&#39;s been cleared up."
    },
    {
      "index": 30,
      "start_time": 69100.0,
      "end_time": 70210.0,
      "text": "Because obviously, with Mocha, you"
    },
    {
      "index": 31,
      "start_time": 70210.0,
      "end_time": 72431.0,
      "text": "can run in the browser, which makes a bit more sense"
    },
    {
      "index": 32,
      "start_time": 72431.0,
      "end_time": 73929.0,
      "text": "if you&#39;re building a browser library"
    },
    {
      "index": 33,
      "start_time": 73930.0,
      "end_time": 75700.0,
      "text": "and you need those APIs."
    },
    {
      "index": 34,
      "start_time": 75700.0,
      "end_time": 77410.0,
      "text": "But there was always this weird tension."
    },
    {
      "index": 35,
      "start_time": 77410.0,
      "end_time": 81240.0,
      "text": "Because a lot of the work I&#39;ve been doing super recently,"
    },
    {
      "index": 36,
      "start_time": 81240.0,
      "end_time": 84100.0,
      "text": "I actually got to a point where Node, I was mocking out"
    },
    {
      "index": 37,
      "start_time": 84100.0,
      "end_time": 85405.0,
      "text": "of a lot of the browser APIs."
    },
    {
      "index": 38,
      "start_time": 85405.0,
      "end_time": 88180.0,
      "text": "It allows you to make the tests super fast and super reliable,"
    },
    {
      "index": 39,
      "start_time": 88180.0,
      "end_time": 89680.0,
      "text": "because basically, nothing was real."
    },
    {
      "index": 40,
      "start_time": 89680.0,
      "end_time": 91900.0,
      "text": "Everything was fake and a facade."
    },
    {
      "index": 41,
      "start_time": 91900.0,
      "end_time": 93173.0,
      "text": "ADDY OSMANI: So you don&#39;t have access to a window."
    },
    {
      "index": 42,
      "start_time": 93173.0,
      "end_time": 95674.0,
      "text": "You don&#39;t have access to any of those APIs, or these things."
    },
    {
      "index": 43,
      "start_time": 95674.0,
      "end_time": 96339.0,
      "text": "MATT GAUNT: Yes."
    },
    {
      "index": 44,
      "start_time": 96339.0,
      "end_time": 98900.0,
      "text": "So you end up doing one of two things."
    },
    {
      "index": 45,
      "start_time": 98900.0,
      "end_time": 101340.0,
      "text": "Either you run it inside the browser with the Mocha stuff,"
    },
    {
      "index": 46,
      "start_time": 101340.0,
      "end_time": 104600.0,
      "text": "and it will actually use those APIs, which, for the most part,"
    },
    {
      "index": 47,
      "start_time": 104600.0,
      "end_time": 105976.0,
      "text": "I find is good, because if there&#39;s any browser"
    },
    {
      "index": 48,
      "start_time": 105976.0,
      "end_time": 107800.0,
      "text": "differences, you get them."
    },
    {
      "index": 49,
      "start_time": 107800.0,
      "end_time": 109360.0,
      "text": "Or you mock all of them out, which"
    },
    {
      "index": 50,
      "start_time": 109360.0,
      "end_time": 110699.0,
      "text": "means it&#39;s completely fake."
    },
    {
      "index": 51,
      "start_time": 110699.0,
      "end_time": 112990.0,
      "text": "But it&#39;s normally super fast, because it&#39;s not actually"
    },
    {
      "index": 52,
      "start_time": 112990.0,
      "end_time": 113679.0,
      "text": "doing any work."
    },
    {
      "index": 53,
      "start_time": 113680.0,
      "end_time": 115330.0,
      "text": "You normally go, in this case, pass."
    },
    {
      "index": 54,
      "start_time": 115330.0,
      "end_time": 118900.0,
      "text": "In this case, throw an error."
    },
    {
      "index": 55,
      "start_time": 118900.0,
      "end_time": 119830.0,
      "text": "But it still kind of always confused me."
    },
    {
      "index": 56,
      "start_time": 119830.0,
      "end_time": 121450.0,
      "text": "Like OK, so I have these two things,"
    },
    {
      "index": 57,
      "start_time": 121450.0,
      "end_time": 124200.0,
      "text": "but it doesn&#39;t feel like this is good on an ongoing basis,"
    },
    {
      "index": 58,
      "start_time": 124200.0,
      "end_time": 127690.0,
      "text": "because if I don&#39;t run the tests, nothing happens."
    },
    {
      "index": 59,
      "start_time": 127690.0,
      "end_time": 130270.0,
      "text": "So that&#39;s when we get into the Selenium world."
    },
    {
      "index": 60,
      "start_time": 130270.00000000001,
      "end_time": 133255.0,
      "text": "And it gets super interesting, slash, weird,"
    },
    {
      "index": 61,
      "start_time": 133255.0,
      "end_time": 134380.0,
      "text": "depending on how you do it."
    },
    {
      "index": 62,
      "start_time": 134380.0,
      "end_time": 137230.0,
      "text": "So for anyone who doesn&#39;t know, Selenium WebDriver is"
    },
    {
      "index": 63,
      "start_time": 137230.0,
      "end_time": 139799.0,
      "text": "a way of launching a browser and controlling it,"
    },
    {
      "index": 64,
      "start_time": 139800.0,
      "end_time": 142900.0,
      "text": "is the most generic way of putting it."
    },
    {
      "index": 65,
      "start_time": 142900.0,
      "end_time": 143930.0,
      "text": "They have a ton of different versions,"
    },
    {
      "index": 66,
      "start_time": 143930.0,
      "end_time": 146230.0,
      "text": "but this is the JavaScript Node version"
    },
    {
      "index": 67,
      "start_time": 146230.0,
      "end_time": 148359.0,
      "text": "I&#39;ve come to know and love."
    },
    {
      "index": 68,
      "start_time": 148360.0,
      "end_time": 152650.0,
      "text": "Let&#39;s look at super basic, bare bones, Selenium script."
    },
    {
      "index": 69,
      "start_time": 152650.0,
      "end_time": 153590.0,
      "text": "And this is it."
    },
    {
      "index": 70,
      "start_time": 153590.0,
      "end_time": 155900.0,
      "text": "So this is a Node version."
    },
    {
      "index": 71,
      "start_time": 155900.0,
      "end_time": 157900.0,
      "text": "Selenium has a ton of different libraries, which"
    },
    {
      "index": 72,
      "start_time": 157900.0,
      "end_time": 159830.0,
      "text": "also doesn&#39;t help, because documentation-- just so much"
    },
    {
      "index": 73,
      "start_time": 159830.0,
      "end_time": 160330.0,
      "text": "stuff."
    },
    {
      "index": 74,
      "start_time": 160330.0,
      "end_time": 162310.0,
      "text": "But in the most bare bones thing,"
    },
    {
      "index": 75,
      "start_time": 162310.0,
      "end_time": 164500.0,
      "text": "you create what&#39;s known as a WebDriver builder."
    },
    {
      "index": 76,
      "start_time": 164500.0,
      "end_time": 166000.0,
      "text": "And at that point, you can basically"
    },
    {
      "index": 77,
      "start_time": 166000.0,
      "end_time": 168501.0,
      "text": "say, OK, with the builder, I want it to be a Chrome browser,"
    },
    {
      "index": 78,
      "start_time": 168501.0,
      "end_time": 169375.0,
      "text": "or I want to do this."
    },
    {
      "index": 79,
      "start_time": 169375.0,
      "end_time": 171320.0,
      "text": "And then you can bolt on additional things."
    },
    {
      "index": 80,
      "start_time": 171320.0,
      "end_time": 172899.0,
      "text": "You&#39;d say, build me a driver."
    },
    {
      "index": 81,
      "start_time": 172899.0,
      "end_time": 174565.0,
      "text": "And from that point, that is basically--"
    },
    {
      "index": 82,
      "start_time": 174565.0,
      "end_time": 177490.0,
      "text": "you can kind of think of it as like an instance of a browser."
    },
    {
      "index": 83,
      "start_time": 177490.0,
      "end_time": 179139.0,
      "text": "So that&#39;s what you&#39;ve got here."
    },
    {
      "index": 84,
      "start_time": 179139.0,
      "end_time": 180930.0,
      "text": "At that point, you can just start using it."
    },
    {
      "index": 85,
      "start_time": 180930.0,
      "end_time": 182920.0,
      "text": "So if we call get, in this case I&#39;m"
    },
    {
      "index": 86,
      "start_time": 182920.0,
      "end_time": 184911.0,
      "text": "going to launch my Mocha test, because we want"
    },
    {
      "index": 87,
      "start_time": 184911.0,
      "end_time": 186160.0,
      "text": "to automate all of that stuff."
    },
    {
      "index": 88,
      "start_time": 186160.0,
      "end_time": 188270.0,
      "text": "We don&#39;t want to worry about it."
    },
    {
      "index": 89,
      "start_time": 188270.0,
      "end_time": 190785.0,
      "text": "And then, we are going to say, wait until something happens."
    },
    {
      "index": 90,
      "start_time": 190785.0,
      "end_time": 192160.0,
      "text": "In this case, we&#39;re going to say,"
    },
    {
      "index": 91,
      "start_time": 192160.0,
      "end_time": 196300.0,
      "text": "wait until Mocha results becomes a thing on the actual thing"
    },
    {
      "index": 92,
      "start_time": 196300.0,
      "end_time": 197387.0,
      "text": "inside the window."
    },
    {
      "index": 93,
      "start_time": 197387.0,
      "end_time": 198970.0,
      "text": "And then, get the Mocha results and do"
    },
    {
      "index": 94,
      "start_time": 198970.0,
      "end_time": 200390.0,
      "text": "something useful for them."
    },
    {
      "index": 95,
      "start_time": 200390.0,
      "end_time": 203799.0,
      "text": "So this is like a really basic Selenium thing,"
    },
    {
      "index": 96,
      "start_time": 203800.0,
      "end_time": 205400.0,
      "text": "but it&#39;s already super helpful."
    },
    {
      "index": 97,
      "start_time": 205400.0,
      "end_time": 209200.0,
      "text": "So if you&#39;re going to run this-- I&#39;m just going to run it with"
    },
    {
      "index": 98,
      "start_time": 209200.0,
      "end_time": 211600.0,
      "text": "Node, ~/test/selenium."
    },
    {
      "index": 99,
      "start_time": 211600.0,
      "end_time": 213579.0,
      "text": "You&#39;re just going to nod along, while I&#39;m just"
    },
    {
      "index": 100,
      "start_time": 213580.0,
      "end_time": 214260.0,
      "text": "talking to myself."
    },
    {
      "index": 101,
      "start_time": 214260.0,
      "end_time": 215380.0,
      "text": "ADDY OSMANI: I&#39;m just going to nod along,"
    },
    {
      "index": 102,
      "start_time": 215380.0,
      "end_time": 216796.0,
      "text": "assume you know what you&#39;re doing."
    },
    {
      "index": 103,
      "start_time": 216796.0,
      "end_time": 219134.0,
      "text": "MATT GAUNT: Yeah, that&#39;s the safest way of doing it."
    },
    {
      "index": 104,
      "start_time": 219134.0,
      "end_time": 221799.0,
      "text": "So all it&#39;s doing-- you can kind of see it-- is Chrome pops off,"
    },
    {
      "index": 105,
      "start_time": 221800.0,
      "end_time": 222640.0,
      "text": "and then it closes."
    },
    {
      "index": 106,
      "start_time": 222640.0,
      "end_time": 226239.0,
      "text": "And you briefly see the Mocha test running."
    },
    {
      "index": 107,
      "start_time": 226240.0,
      "end_time": 227970.0,
      "text": "This is super basic, but it&#39;s super nice,"
    },
    {
      "index": 108,
      "start_time": 227970.0,
      "end_time": 230470.0,
      "text": "because it means that you could put this-- because it&#39;s just"
    },
    {
      "index": 109,
      "start_time": 230470.0,
      "end_time": 232240.0,
      "text": "a Node script, you can put it in npm run,"
    },
    {
      "index": 110,
      "start_time": 232240.0,
      "end_time": 233490.0,
      "text": "or you could add it to Travis."
    },
    {
      "index": 111,
      "start_time": 233490.0,
      "end_time": 235270.0,
      "text": "You can do whatever you want."
    },
    {
      "index": 112,
      "start_time": 235270.0,
      "end_time": 237790.0,
      "text": "It&#39;s super nice and clean."
    },
    {
      "index": 113,
      "start_time": 237790.0,
      "end_time": 238870.0,
      "text": "The problem I always had with this approach"
    },
    {
      "index": 114,
      "start_time": 238870.0,
      "end_time": 240790.0,
      "text": "is, it gets super manual really quick when"
    },
    {
      "index": 115,
      "start_time": 240790.0,
      "end_time": 242209.0,
      "text": "you run Chrome and Firefox."
    },
    {
      "index": 116,
      "start_time": 242210.0,
      "end_time": 245620.0,
      "text": "So I created this thing called selenium-assistant."
    },
    {
      "index": 117,
      "start_time": 245620.0,
      "end_time": 248290.0,
      "text": "And this entire thing was like, just tell me"
    },
    {
      "index": 118,
      "start_time": 248290.0,
      "end_time": 251260.0,
      "text": "what browsers are available, and then just give me"
    },
    {
      "index": 119,
      "start_time": 251260.0,
      "end_time": 254450.0,
      "text": "all of those in a WebDriver thingy, and then run it."
    },
    {
      "index": 120,
      "start_time": 254450.0,
      "end_time": 254545.0,
      "text": "Yeah."
    },
    {
      "index": 121,
      "start_time": 254545.0,
      "end_time": 257190.0,
      "text": "So it&#39;s kind of weird, because you get available browsers."
    },
    {
      "index": 122,
      "start_time": 257190.0,
      "end_time": 259720.0,
      "text": "And it can give you stable, beta, and unstable."
    },
    {
      "index": 123,
      "start_time": 259720.00000000003,
      "end_time": 262720.0,
      "text": "And we&#39;ve done so much stuff with service workers and brand"
    },
    {
      "index": 124,
      "start_time": 262720.0,
      "end_time": 266350.0,
      "text": "new APIs that you wanted to test on all those ones,"
    },
    {
      "index": 125,
      "start_time": 266350.0,
      "end_time": 268484.0,
      "text": "because you knew breaking changes were coming in."
    },
    {
      "index": 126,
      "start_time": 268484.0,
      "end_time": 269400.0,
      "text": "ADDY OSMANI: Oh, yeah."
    },
    {
      "index": 127,
      "start_time": 269400.0,
      "end_time": 271659.0,
      "text": "It&#39;s almost impossible to manually stay"
    },
    {
      "index": 128,
      "start_time": 271660.0,
      "end_time": 272968.0,
      "text": "on top of testing that stuff."
    },
    {
      "index": 129,
      "start_time": 272968.0,
      "end_time": 273676.0,
      "text": "MATT GAUNT: Yeah."
    },
    {
      "index": 130,
      "start_time": 273676.0,
      "end_time": 276390.0,
      "text": "So I built this thing."
    },
    {
      "index": 131,
      "start_time": 276400.0,
      "end_time": 278440.0,
      "text": "And that&#39;s all it does is just simplify all those things."
    },
    {
      "index": 132,
      "start_time": 278440.0,
      "end_time": 282110.0,
      "text": "And in this case, I&#39;ve kind of merged the two."
    },
    {
      "index": 133,
      "start_time": 282110.0,
      "end_time": 285947.0,
      "text": "So if we do it super role with just selenium-assistant, what"
    },
    {
      "index": 134,
      "start_time": 285947.0,
      "end_time": 287530.0,
      "text": "it&#39;s going to do is we&#39;re going to get"
    },
    {
      "index": 135,
      "start_time": 287530.0,
      "end_time": 289330.0,
      "text": "all the available browsers, open them"
    },
    {
      "index": 136,
      "start_time": 289330.0,
      "end_time": 291340.0,
      "text": "up, go through the same steps of running Chrome,"
    },
    {
      "index": 137,
      "start_time": 291340.0,
      "end_time": 293409.0,
      "text": "and then return it."
    },
    {
      "index": 138,
      "start_time": 293410.0,
      "end_time": 295290.0,
      "text": "And that&#39;s super cool, because you"
    },
    {
      "index": 139,
      "start_time": 295290.0,
      "end_time": 298151.0,
      "text": "get into this super weird world where suddenly browsers open"
    },
    {
      "index": 140,
      "start_time": 298151.0,
      "end_time": 299900.0,
      "text": "and close, open and close, open and close."
    },
    {
      "index": 141,
      "start_time": 299900.0,
      "end_time": 301169.0,
      "text": "And then you see it go into Firefox,"
    },
    {
      "index": 142,
      "start_time": 301170.0,
      "end_time": 303600.0,
      "text": "and then it&#39;s open and close, open and close."
    },
    {
      "index": 143,
      "start_time": 303600.0,
      "end_time": 304434.0,
      "text": "There&#39;s still one more big issue."
    },
    {
      "index": 144,
      "start_time": 304434.0,
      "end_time": 306449.0,
      "text": "ADDY OSMANI: It&#39;s almost as if you enjoy chaos."
    },
    {
      "index": 145,
      "start_time": 306449.0,
      "end_time": 308240.0,
      "text": "MATT GAUNT: Well, it&#39;s great when it works."
    },
    {
      "index": 146,
      "start_time": 308240.0,
      "end_time": 309510.0,
      "text": "It&#39;s getting to that point."
    },
    {
      "index": 147,
      "start_time": 309510.0,
      "end_time": 312380.0,
      "text": "You have this Mocha environment where everything builds, runs,"
    },
    {
      "index": 148,
      "start_time": 312380.0,
      "end_time": 314706.0,
      "text": "and it either passes or fails."
    },
    {
      "index": 149,
      "start_time": 314706.0,
      "end_time": 316800.0,
      "text": "Selenium just gives you the piece"
    },
    {
      "index": 150,
      "start_time": 316800.0,
      "end_time": 317163.0,
      "text": "that opens up the browser."
    },
    {
      "index": 151,
      "start_time": 317163.0,
      "end_time": 318300.0,
      "text": "ADDY OSMANI: Right."
    },
    {
      "index": 152,
      "start_time": 318300.0,
      "end_time": 320546.0,
      "text": "MATT GAUNT: It doesn&#39;t actually give you the pass-fail."
    },
    {
      "index": 153,
      "start_time": 320546.0,
      "end_time": 322170.0,
      "text": "Selenium can open, do all those things."
    },
    {
      "index": 154,
      "start_time": 322170.0,
      "end_time": 324860.0,
      "text": "Things can go horribly wrong and it just goes,"
    },
    {
      "index": 155,
      "start_time": 324860.0,
      "end_time": 326639.0,
      "text": "well, I don&#39;t care."
    },
    {
      "index": 156,
      "start_time": 326639.0,
      "end_time": 329180.0,
      "text": "And the worst thing with that is, if you have a Selenium test"
    },
    {
      "index": 157,
      "start_time": 329180.0,
      "end_time": 331407.0,
      "text": "and something goes wrong, Selenium doesn&#39;t quit."
    },
    {
      "index": 158,
      "start_time": 331407.0,
      "end_time": 333240.0,
      "text": "It doesn&#39;t close that browser, so you end up"
    },
    {
      "index": 159,
      "start_time": 333240.0,
      "end_time": 336600.0,
      "text": "with a desktop full of 20 different browsers opened"
    },
    {
      "index": 160,
      "start_time": 336600.0,
      "end_time": 337387.0,
      "text": "simultaneously."
    },
    {
      "index": 161,
      "start_time": 337387.0,
      "end_time": 338970.0,
      "text": "The way around that is you kind of end"
    },
    {
      "index": 162,
      "start_time": 338970.0,
      "end_time": 342480.0,
      "text": "up mashing Mocha and Selenium together."
    },
    {
      "index": 163,
      "start_time": 342480.0,
      "end_time": 344640.0,
      "text": "And then you get super trippy inception"
    },
    {
      "index": 164,
      "start_time": 344640.0,
      "end_time": 347250.0,
      "text": "where you&#39;ve got Mocha running a Selenium test, which"
    },
    {
      "index": 165,
      "start_time": 347250.0,
      "end_time": 349950.0,
      "text": "is running Mocha in the browser, to then report back"
    },
    {
      "index": 166,
      "start_time": 349950.0,
      "end_time": 353550.0,
      "text": "to your Mocha/Selenium thing, which is what I&#39;m doing here."
    },
    {
      "index": 167,
      "start_time": 353550.0,
      "end_time": 354700.0,
      "text": "Because you know what?"
    },
    {
      "index": 168,
      "start_time": 354700.0,
      "end_time": 355509.0,
      "text": "That&#39;s true chaos."
    },
    {
      "index": 169,
      "start_time": 355509.0,
      "end_time": 356550.0,
      "text": "And that&#39;s what you need."
    },
    {
      "index": 170,
      "start_time": 356550.0,
      "end_time": 357710.0,
      "text": "And it&#39;s kind of interesting."
    },
    {
      "index": 171,
      "start_time": 357710.0,
      "end_time": 359126.0,
      "text": "So you get the available browsers,"
    },
    {
      "index": 172,
      "start_time": 359126.0,
      "end_time": 361479.0,
      "text": "and you say, add Mocha test for each individual browser."
    },
    {
      "index": 173,
      "start_time": 361480.0,
      "end_time": 364260.0,
      "text": "So we&#39;ve got foreach, addMochaTest."
    },
    {
      "index": 174,
      "start_time": 364260.0,
      "end_time": 365969.0,
      "text": "Inside of this, we&#39;re then saying,"
    },
    {
      "index": 175,
      "start_time": 365970.0,
      "end_time": 368880.0,
      "text": "describe a new test suite."
    },
    {
      "index": 176,
      "start_time": 368880.0,
      "end_time": 371150.0,
      "text": "And then, before each one, get the Selenium driver."
    },
    {
      "index": 177,
      "start_time": 371150.0,
      "end_time": 372935.0,
      "text": "So that&#39;s doing the builder stuff for me."
    },
    {
      "index": 178,
      "start_time": 372935.0,
      "end_time": 374310.0,
      "text": "And then, after each, I just want"
    },
    {
      "index": 179,
      "start_time": 374310.0,
      "end_time": 376500.0,
      "text": "to make sure I call quit on that browser."
    },
    {
      "index": 180,
      "start_time": 376500.0,
      "end_time": 378630.0,
      "text": "Because without that, like I say, especially when you start"
    },
    {
      "index": 181,
      "start_time": 378630.0,
      "end_time": 380700.0,
      "text": "working on this, if you don&#39;t exit at the end,"
    },
    {
      "index": 182,
      "start_time": 380700.0,
      "end_time": 382250.0,
      "text": "it&#39;s going to suck."
    },
    {
      "index": 183,
      "start_time": 382250.0,
      "end_time": 386100.0,
      "text": "So mocha ~/test/selenium/mocha-assistant."
    },
    {
      "index": 184,
      "start_time": 386100.0,
      "end_time": 388500.0,
      "text": "And this time, it&#39;s going to open the browser,"
    },
    {
      "index": 185,
      "start_time": 388500.0,
      "end_time": 390697.0,
      "text": "listen for the results, and come back whether it works or not."
    },
    {
      "index": 186,
      "start_time": 390697.0,
      "end_time": 392280.0,
      "text": "But I&#39;ve also added an additional step"
    },
    {
      "index": 187,
      "start_time": 392280.0,
      "end_time": 394469.0,
      "text": "to this one where, because we&#39;re now in Mocha,"
    },
    {
      "index": 188,
      "start_time": 394470.0,
      "end_time": 397472.0,
      "text": "we can do individual tests, I have that bunch of tests."
    },
    {
      "index": 189,
      "start_time": 397472.0,
      "end_time": 399180.0,
      "text": "So it&#39;s like open the browser with Mocha,"
    },
    {
      "index": 190,
      "start_time": 399180.0,
      "end_time": 401177.0,
      "text": "run through all the tests that are unit tests."
    },
    {
      "index": 191,
      "start_time": 401177.0,
      "end_time": 403260.0,
      "text": "And then I&#39;ve added one at the end, which is like,"
    },
    {
      "index": 192,
      "start_time": 403260.0,
      "end_time": 406800.0,
      "text": "OK, load another page, click on the About link,"
    },
    {
      "index": 193,
      "start_time": 406800.0,
      "end_time": 408962.0,
      "text": "check that it actually went to the About page."
    },
    {
      "index": 194,
      "start_time": 408962.0,
      "end_time": 410670.0,
      "text": "And this is kind of the interesting thing"
    },
    {
      "index": 195,
      "start_time": 410670.0,
      "end_time": 413859.0,
      "text": "with Mocha is you start getting into more-- which I think"
    },
    {
      "index": 196,
      "start_time": 413859.0,
      "end_time": 416400.0,
      "text": "you&#39;d class as an integration test-- but it&#39;s like, make sure"
    },
    {
      "index": 197,
      "start_time": 416400.0,
      "end_time": 419789.0,
      "text": "the behavior is the actual end thing that I&#39;m expecting."
    },
    {
      "index": 198,
      "start_time": 419790.0,
      "end_time": 421334.0,
      "text": "And I call them integration tests,"
    },
    {
      "index": 199,
      "start_time": 421334.0,
      "end_time": 423000.0,
      "text": "so I&#39;ve kind of labeled them differently"
    },
    {
      "index": 200,
      "start_time": 423000.0,
      "end_time": 426450.0,
      "text": "to highlight the fact they&#39;re going to be long,"
    },
    {
      "index": 201,
      "start_time": 426450.0,
      "end_time": 428936.0,
      "text": "because I think that&#39;s part of the point is unit"
    },
    {
      "index": 202,
      "start_time": 428936.0,
      "end_time": 430310.0,
      "text": "testing&#39;s going to be super fast,"
    },
    {
      "index": 203,
      "start_time": 430310.0,
      "end_time": 432226.0,
      "text": "super reliable, which is why I&#39;m kind of like,"
    },
    {
      "index": 204,
      "start_time": 432226.0,
      "end_time": 434700.0,
      "text": "you could mock it out, and it makes sense."
    },
    {
      "index": 205,
      "start_time": 434700.0,
      "end_time": 437370.0,
      "text": "Integration tests are the big, long, scary,"
    },
    {
      "index": 206,
      "start_time": 437370.0,
      "end_time": 438820.0,
      "text": "can take a while kind of things."
    },
    {
      "index": 207,
      "start_time": 438820.0,
      "end_time": 442300.0,
      "text": "And there&#39;s a ton of ways you can skin both of these cats."
    },
    {
      "index": 208,
      "start_time": 442300.0,
      "end_time": 443650.0,
      "text": "But I think it makes a lot of sense."
    },
    {
      "index": 209,
      "start_time": 443650.0,
      "end_time": 446700.0,
      "text": "So the super basic integration test-- in this case,"
    },
    {
      "index": 210,
      "start_time": 446700.0,
      "end_time": 447930.0,
      "text": "we have my website."
    },
    {
      "index": 211,
      "start_time": 447930.0,
      "end_time": 450750.0,
      "text": "I&#39;m looking for a particular link, which I&#39;m executing"
    },
    {
      "index": 212,
      "start_time": 450750.0,
      "end_time": 452442.0,
      "text": "in the page, clicking it."
    },
    {
      "index": 213,
      "start_time": 452442.0,
      "end_time": 453900.0,
      "text": "And then, at the very end, I&#39;m just"
    },
    {
      "index": 214,
      "start_time": 453900.0,
      "end_time": 457289.0,
      "text": "saying, OK, wait until the document title is actually"
    },
    {
      "index": 215,
      "start_time": 457290.0,
      "end_time": 458672.0,
      "text": "what I expect it to be."
    },
    {
      "index": 216,
      "start_time": 458672.0,
      "end_time": 460380.0,
      "text": "ADDY OSMANI: How well does all this stuff"
    },
    {
      "index": 217,
      "start_time": 460380.0,
      "end_time": 462330.0,
      "text": "play with service worker?"
    },
    {
      "index": 218,
      "start_time": 462330.0,
      "end_time": 464281.0,
      "text": "MATT GAUNT: So that&#39;s where I ended up"
    },
    {
      "index": 219,
      "start_time": 464281.0,
      "end_time": 466530.0,
      "text": "getting into the Selenium stuff, because I was writing"
    },
    {
      "index": 220,
      "start_time": 466530.0,
      "end_time": 467654.0,
      "text": "Mocha tests in the browser."
    },
    {
      "index": 221,
      "start_time": 467654.0,
      "end_time": 469830.0,
      "text": "And that was great because it meant"
    },
    {
      "index": 222,
      "start_time": 469830.0,
      "end_time": 472570.0,
      "text": "a really repetitive way of running tests"
    },
    {
      "index": 223,
      "start_time": 472570.0,
      "end_time": 473790.0,
      "text": "against service worker APIs."
    },
    {
      "index": 224,
      "start_time": 473790.0,
      "end_time": 474990.0,
      "text": "And it was the only way of doing it"
    },
    {
      "index": 225,
      "start_time": 474990.0,
      "end_time": 476531.0,
      "text": "in a sane way, especially when you&#39;re"
    },
    {
      "index": 226,
      "start_time": 476531.0,
      "end_time": 478909.0,
      "text": "learning, because there&#39;s lots of edge cases."
    },
    {
      "index": 227,
      "start_time": 478909.0,
      "end_time": 481200.0,
      "text": "It was the then running them in each individual browser"
    },
    {
      "index": 228,
      "start_time": 481200.0,
      "end_time": 484967.0,
      "text": "and repeatedly doing it, as well as then running it in the CI."
    },
    {
      "index": 229,
      "start_time": 484967.0,
      "end_time": 486550.0,
      "text": "You need all of that in a Node script,"
    },
    {
      "index": 230,
      "start_time": 486550.0,
      "end_time": 488910.0,
      "text": "which is why I landed on Mocha afterwards,"
    },
    {
      "index": 231,
      "start_time": 488910.0,
      "end_time": 491910.0,
      "text": "because you kick it off on the Node side,"
    },
    {
      "index": 232,
      "start_time": 491910.0,
      "end_time": 493350.0,
      "text": "and then it&#39;s just JavaScript."
    },
    {
      "index": 233,
      "start_time": 493350.0,
      "end_time": 495430.0,
      "text": "And you&#39;re not testing any Node stuff."
    },
    {
      "index": 234,
      "start_time": 495430.0,
      "end_time": 497700.0,
      "text": "You&#39;re only using Selenium to launch the browser,"
    },
    {
      "index": 235,
      "start_time": 497700.0,
      "end_time": 499390.0,
      "text": "do certain things."
    },
    {
      "index": 236,
      "start_time": 499400.0,
      "end_time": 501960.0,
      "text": "And plus, having that step where you can then launch it,"
    },
    {
      "index": 237,
      "start_time": 501960.0,
      "end_time": 504960.0,
      "text": "perform certain tasks on a demo page,"
    },
    {
      "index": 238,
      "start_time": 504960.0,
      "end_time": 507210.0,
      "text": "and then check what the response is from the browser"
    },
    {
      "index": 239,
      "start_time": 507210.0,
      "end_time": 510210.0,
      "text": "is insanely helpful, especially for figuring out"
    },
    {
      "index": 240,
      "start_time": 510210.0,
      "end_time": 514319.0,
      "text": "any possible browser differences or bugs in each one, of which"
    },
    {
      "index": 241,
      "start_time": 514320.00000000006,
      "end_time": 517440.00000000006,
      "text": "there was many back in the day."
    },
    {
      "index": 242,
      "start_time": 517440.00000000006,
      "end_time": 518700.00000000006,
      "text": "So that&#39;s where I&#39;m at."
    },
    {
      "index": 243,
      "start_time": 518700.00000000006,
      "end_time": 521850.00000000006,
      "text": "And I think I&#39;m now starting to try and delineate"
    },
    {
      "index": 244,
      "start_time": 521850.0,
      "end_time": 523950.0,
      "text": "between unit testing and integration tests,"
    },
    {
      "index": 245,
      "start_time": 523950.00000000006,
      "end_time": 527370.0,
      "text": "because with Selenium, you are instantly in flaky territory."
    },
    {
      "index": 246,
      "start_time": 527370.0,
      "end_time": 530280.0,
      "text": "Like, WebDriver just does random stuff,"
    },
    {
      "index": 247,
      "start_time": 530280.0,
      "end_time": 531980.0,
      "text": "because of lulz and funzies."
    },
    {
      "index": 248,
      "start_time": 531980.0,
      "end_time": 534390.0,
      "text": "ADDY OSMANI: Define random stuff."
    },
    {
      "index": 249,
      "start_time": 534390.0,
      "end_time": 536280.0,
      "text": "MATT GAUNT: It would just-- so the worst"
    },
    {
      "index": 250,
      "start_time": 536280.0,
      "end_time": 538650.0,
      "text": "thing with a lot of this stuff is you will randomly"
    },
    {
      "index": 251,
      "start_time": 538650.0,
      "end_time": 540360.0,
      "text": "get one browser updating, and it will not"
    },
    {
      "index": 252,
      "start_time": 540360.0,
      "end_time": 543420.0,
      "text": "work with its current version of its WebDriver equivalent."
    },
    {
      "index": 253,
      "start_time": 543420.0,
      "end_time": 546810.0,
      "text": "Your CI kind of goes out the window at that point."
    },
    {
      "index": 254,
      "start_time": 546810.0,
      "end_time": 549600.0,
      "text": "But it will often come up with a fix, sooner or later."
    },
    {
      "index": 255,
      "start_time": 549600.0,
      "end_time": 552750.0,
      "text": "And it&#39;s very rare that that will land on stable releases."
    },
    {
      "index": 256,
      "start_time": 552750.0,
      "end_time": 555600.0,
      "text": "But there are just times where, let&#39;s say,"
    },
    {
      "index": 257,
      "start_time": 555600.0,
      "end_time": 557280.0,
      "text": "you&#39;re using Express, or some other Node"
    },
    {
      "index": 258,
      "start_time": 557280.0,
      "end_time": 558880.0,
      "text": "module start a local server."
    },
    {
      "index": 259,
      "start_time": 558880.0,
      "end_time": 561450.0,
      "text": "If for whatever reason the browser talking to Express"
    },
    {
      "index": 260,
      "start_time": 561450.0,
      "end_time": 564820.0,
      "text": "causes an issue and something breaks, it breaks."
    },
    {
      "index": 261,
      "start_time": 564820.0,
      "end_time": 567870.0,
      "text": "And that may be a once in a lifetime opportunity on the CI"
    },
    {
      "index": 262,
      "start_time": 567870.0,
      "end_time": 569940.0,
      "text": "that you will never see again."
    },
    {
      "index": 263,
      "start_time": 569940.0,
      "end_time": 571890.0,
      "text": "So I&#39;m finding I&#39;m adding retries a lot"
    },
    {
      "index": 264,
      "start_time": 571890.0,
      "end_time": 573449.0,
      "text": "for Selenium WebDriver tests."
    },
    {
      "index": 265,
      "start_time": 573450.0,
      "end_time": 575400.0,
      "text": "And generally, that weeds out a lot of issues"
    },
    {
      "index": 266,
      "start_time": 575400.0,
      "end_time": 576900.0,
      "text": "to the point where you&#39;re like, this"
    },
    {
      "index": 267,
      "start_time": 576900.0,
      "end_time": 578108.0,
      "text": "is actually a bug in my code."
    },
    {
      "index": 268,
      "start_time": 578108.0,
      "end_time": 580859.0,
      "text": "ADDY OSMANI: What&#39;s the typical number of retries you--"
    },
    {
      "index": 269,
      "start_time": 580860.0,
      "end_time": 582246.0,
      "text": "MATT GAUNT: I&#39;ve been landing on, like, three."
    },
    {
      "index": 270,
      "start_time": 582246.0,
      "end_time": 582612.0,
      "text": "ADDY OSMANI: Three?"
    },
    {
      "index": 271,
      "start_time": 582612.0,
      "end_time": 583151.0,
      "text": "OK."
    },
    {
      "index": 272,
      "start_time": 583152.0,
      "end_time": 584610.0,
      "text": "MATT GAUNT: And that&#39;s just largely"
    },
    {
      "index": 273,
      "start_time": 584610.0,
      "end_time": 586296.0,
      "text": "because, nine times out of 10, it&#39;s"
    },
    {
      "index": 274,
      "start_time": 586296.0,
      "end_time": 587670.0,
      "text": "because I&#39;m using like-- I&#39;m even"
    },
    {
      "index": 275,
      "start_time": 587670.0,
      "end_time": 590790.0,
      "text": "going so far with integration tests of testing"
    },
    {
      "index": 276,
      "start_time": 590800.0,
      "end_time": 592260.0,
      "text": "against real live networks."
    },
    {
      "index": 277,
      "start_time": 592260.0,
      "end_time": 593280.0,
      "text": "You think of push."
    },
    {
      "index": 278,
      "start_time": 593280.0,
      "end_time": 595852.0,
      "text": "You need the browser to talk to whatever"
    },
    {
      "index": 279,
      "start_time": 595852.0,
      "end_time": 597810.0,
      "text": "push service they&#39;re going to talk to, and then"
    },
    {
      "index": 280,
      "start_time": 597810.0,
      "end_time": 598767.0,
      "text": "get a network response."
    },
    {
      "index": 281,
      "start_time": 598768.0,
      "end_time": 602880.0,
      "text": "And if for whatever reason the CI&#39;s internet connection"
    },
    {
      "index": 282,
      "start_time": 602880.0,
      "end_time": 605380.0,
      "text": "is broken, that means my test is going to fail."
    },
    {
      "index": 283,
      "start_time": 605380.0,
      "end_time": 607590.0,
      "text": "It&#39;s going to get so far, and then die."
    },
    {
      "index": 284,
      "start_time": 607590.0,
      "end_time": 609298.0,
      "text": "ADDY OSMANI: I think you&#39;ve been tackling"
    },
    {
      "index": 285,
      "start_time": 609298.0,
      "end_time": 611580.0,
      "text": "some of the sort of bleeding edge around unit testing,"
    },
    {
      "index": 286,
      "start_time": 611580.0,
      "end_time": 613680.0,
      "text": "dealing with service worker, dealing with push,"
    },
    {
      "index": 287,
      "start_time": 613680.0,
      "end_time": 615661.0,
      "text": "and all of those other newer platform APIs."
    },
    {
      "index": 288,
      "start_time": 615662.0,
      "end_time": 617870.0,
      "text": "MATT GAUNT: I don&#39;t think it&#39;s bleeding edge testing,"
    },
    {
      "index": 289,
      "start_time": 617870.0,
      "end_time": 621120.0,
      "text": "I think it&#39;s just I&#39;ve been testing a lot of bleeding edge"
    },
    {
      "index": 290,
      "start_time": 621120.0,
      "end_time": 623190.0,
      "text": "APIs, which is why I&#39;m reaching a lot"
    },
    {
      "index": 291,
      "start_time": 623190.0,
      "end_time": 625230.0,
      "text": "of these weird situations."
    },
    {
      "index": 292,
      "start_time": 625230.0,
      "end_time": 627695.0,
      "text": "And it&#39;s also the reason why I&#39;m finding it so useful."
    },
    {
      "index": 293,
      "start_time": 627695.0,
      "end_time": 629820.0,
      "text": "Because the main thing is, if I build these things,"
    },
    {
      "index": 294,
      "start_time": 629820.0,
      "end_time": 631700.0,
      "text": "I also don&#39;t want to babysit them."
    },
    {
      "index": 295,
      "start_time": 631700.0,
      "end_time": 631312.0,
      "text": "ADDY OSMANI: Right."
    },
    {
      "index": 296,
      "start_time": 631312.0,
      "end_time": 631812.0,
      "text": "Right."
    },
    {
      "index": 297,
      "start_time": 631812.0,
      "end_time": 634400.0,
      "text": "MATT GAUNT: Because you just lumber me with an issue"
    },
    {
      "index": 298,
      "start_time": 634400.0,
      "end_time": 636372.0,
      "text": "that I then don&#39;t want to have to keep on looking after."
    },
    {
      "index": 299,
      "start_time": 636373.0,
      "end_time": 638264.0,
      "text": "I just want you to deal with it."
    },
    {
      "index": 300,
      "start_time": 638264.0,
      "end_time": 639930.0,
      "text": "ADDY OSMANI: That&#39;s not going to happen."
    },
    {
      "index": 301,
      "start_time": 639930.0,
      "end_time": 641300.0,
      "text": "MATT GAUNT: Yeah, I know."
    },
    {
      "index": 302,
      "start_time": 641300.0,
      "end_time": 641280.0,
      "text": "ADDY OSMANI: That&#39;s just not."
    },
    {
      "index": 303,
      "start_time": 641280.0,
      "end_time": 642699.0,
      "text": "MATT GAUNT: But it&#39;s interesting."
    },
    {
      "index": 304,
      "start_time": 642700.0,
      "end_time": 644700.0,
      "text": "I think everyone should be looking at this stuff"
    },
    {
      "index": 305,
      "start_time": 644700.0,
      "end_time": 647279.0,
      "text": "and playing around with it."
    },
    {
      "index": 306,
      "start_time": 647279.0,
      "end_time": 649320.0,
      "text": "Like the next step for me is looking at services,"
    },
    {
      "index": 307,
      "start_time": 649320.0,
      "end_time": 651750.0,
      "text": "like BrowserStack and SauceLabs, which I think,"
    },
    {
      "index": 308,
      "start_time": 651750.0,
      "end_time": 653640.0,
      "text": "now that I understand Selenium, I&#39;m"
    },
    {
      "index": 309,
      "start_time": 653640.0,
      "end_time": 655140.0,
      "text": "at that point where I can appreciate"
    },
    {
      "index": 310,
      "start_time": 655140.0,
      "end_time": 657973.0,
      "text": "what SauceLabs does for me."
    },
    {
      "index": 311,
      "start_time": 657974.0,
      "end_time": 659640.0,
      "text": "But I think that&#39;s the interesting thing"
    },
    {
      "index": 312,
      "start_time": 659640.0,
      "end_time": 663689.0,
      "text": "is I feel like everyone who does this starts off raw Selenium,"
    },
    {
      "index": 313,
      "start_time": 663690.0,
      "end_time": 666485.0,
      "text": "goes through the pain, realizes there&#39;s abstractions that exist"
    },
    {
      "index": 314,
      "start_time": 666485.0,
      "end_time": 667360.0,
      "text": "and they want to use."
    },
    {
      "index": 315,
      "start_time": 667360.0,
      "end_time": 669193.0,
      "text": "ADDY OSMANI: And then they get to this point"
    },
    {
      "index": 316,
      "start_time": 669193.0,
      "end_time": 672579.0,
      "text": "where they could do a follow up \"Totally Tooling Tips\""
    },
    {
      "index": 317,
      "start_time": 672580.0,
      "end_time": 673902.0,
      "text": "episode on that topic."
    },
    {
      "index": 318,
      "start_time": 673902.0,
      "end_time": 674610.0,
      "text": "MATT GAUNT: Boom."
    },
    {
      "index": 319,
      "start_time": 674610.0,
      "end_time": 677960.0,
      "text": "[MUSIC PLAYING]"
    }
  ]
}